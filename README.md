# 🎵 Go Music DL: 你的全能音乐下载利器

`Go Music DL` 是一款为你精心打造的音乐聚合搜索与下载工具。它巧妙地将强大的命令行功能与清爽的网页界面融为一体，让你能像探囊取物一样，轻松搜索、试听并下载来自十多个主流音乐平台的歌曲。

无论你是习惯在终端里挥洒自如的极客，还是更喜欢在浏览器里惬意点击的用户，`Go Music DL` 都能为你带来如丝般顺滑的音乐获取新体验。

![Web UI](./screenshots/web.png)
_简洁直观的 Web 界面，所见即所得。_

![TUI](./screenshots/tui.png)
_功能强大的 TUI 终端界面，复古又高效。_

## ✨ 它为何与众不同？

- 💻 **双模操作，随心切换**:
  - **Web 模式**: 启动一个本地网页服务，在浏览器中享受搜索、试听、下载的完整体验，还支持实时歌词滚动，让你边听边看。
  - **CLI/TUI 模式**: 在命令行中快速执行搜索，或沉浸于交互式的 TUI 界面，通过键盘行云流水般地完成批量下载。

- 🌐 **聚合搜索，一网打尽**: 无需在各大音乐 App 之间反复横跳。我们支持 **网易云、QQ 音乐、酷狗** 等十多个主流平台，你想听的歌，几乎都在这里。

- 📥 **智能下载，井然有序**:
  - 自动将下载的音乐命名为 `歌手 - 歌名.mp3`，并贴心地为你清理文件名中的非法字符。
  - 支持一键下载歌曲封面和 `.lrc` 歌词文件，让你的音乐收藏更完整。

- 🎧 **在线试听，歌词同步**: 在 Web 模式下，我们内置了现代化的播放器。下载前先听一听，感受卡拉OK风格的逐字歌词滚动，确保每一首都对味。

- 🔓 **特殊格式，轻松搞定**: 内置对**汽水音乐**等平台特殊音频格式的解密功能，下载即得，无需转换，直接畅听。

- 💰 **免费优先，智能筛选**: 自动帮你跳过大部分需要 VIP 或付费的歌曲，为你精准筛选出可以免费获取的优质音源。

## 🚀 三分钟快速上手

### 1. 下载程序

前往 [GitHub Releases](https://github.com/guohuiyuan/go-music-dl/releases) 页面，像下载普通软件一样，找到适用于你的操作系统（Windows, macOS, Linux）的最新版本。

下载解压后，你会看到一个名为 `music-dl` (或 `music-dl.exe`) 的文件，这就是我们的主角。

### 2. 开始使用

#### 方式一：启动 Web 模式（推荐新手）

在终端（Windows 用户可以使用 PowerShell 或 CMD）中进入程序所在目录，然后运行：

```bash
./music-dl web
```

程序会自动为你打开默认浏览器，访问 `http://localhost:8080`。现在，音乐的世界就在你的指尖。

#### 方式二：使用 CLI/TUI 模式（极客最爱）

同样在终端中运行：

```bash
# 搜索 "周杰伦" 的歌曲
./music-dl -k "周杰伦"
```

程序将带你进入一个交互式的 TUI 界面。使用键盘的 `↑` `↓` 键选择歌曲，按 `空格` 选中，最后敲击 `回车`，即可开始下载。

**一些高级玩法**:
```bash
# 精准搜索 "周杰伦" 的 "晴天"，并指定从 QQ 音乐和网易云寻找
./music-dl -k "周杰伦 晴天" -s qq,netease

# 下载时，顺便把封面和歌词也一并保存下来
./music-dl -k "周杰伦" --cover --lyrics
```

## 📚 我们支持哪些平台？

`Go Music DL` 的强大搜索能力由我们的核心库 `music-lib` 驱动。目前已支持：

- 网易云音乐 (`netease`)
- QQ 音乐 (`qq`)
- 酷狗音乐 (`kugou`)
- 酷我音乐 (`kuwo`)
- 咪咕音乐 (`migu`)
- 千千音乐 (`qianqian`)
- 汽水音乐 (`soda`)
- 5sing 原创音乐 (`fivesing`)
- Jamendo
- JOOX
- Bilibili 音频

## ❓ 你可能会问 (FAQ)

**Q: 为什么有些歌搜不到，或者下载失败了？**
A: 这通常有几个原因：1) 这首歌需要 VIP 或付费才能听；2) 音乐平台的接口最近悄悄变了；3) 你的网络有点小情绪。我们会尽力过滤掉不能下载的歌曲，但无法保证 100% 的成功率。

**Q: Web 模式启动后，页面打不开或显示不正常？**
A: 请先检查一下：1) 启动时用的端口（默认是 8080）是不是被其他程序占用了；2) 你的浏览器是不是装了某些“脾气古怪”的插件，它们可能会干扰页面脚本。

**Q: 我该如何下载歌曲的封面和歌词？**
A: 在 CLI/TUI 模式下，记得带上 `--cover` 和 `--lyrics` 参数。在 Web 模式下，我们已经默认为你开启了这些功能。下载成功后，你会在相同目录下找到 `.jpg` 格式的封面和 `.lrc` 格式的歌词文件。

## 👨‍💻 致开发者

### 项目结构一览

```
go-music-dl/
├── cmd/
│   └── music-dl/       # Cobra CLI 命令定义
│       ├── main.go       # 程序入口
│       ├── root.go       # CLI 主命令
│       └── web.go        # Web 子命令
├── core/                 # 核心业务逻辑
│   └── service.go       # 并发搜索、源管理等
├── internal/
│   ├── cli/              # TUI 界面 (基于 Bubble Tea)
│   └── web/              # Web 服务 (基于 Gin)
│       ├── server.go
│       └── templates/
├── go.mod
└── README.md
```

### 核心技术栈

- **核心库**: [music-lib](https://github.com/guohuiyuan/music-lib) - 我们项目的“心脏”，提供所有音乐平台的搜索和下载能力。
- **CLI 框架**: [Cobra](https://github.com/spf13/cobra) - 构建强大命令行工具的基石。
- **Web 框架**: [Gin](https://github.com/gin-gonic/gin) - 一个以性能著称的 Go Web 框架。
- **TUI 框架**: [Bubble Tea](https://github.com/charmbracelet/bubbletea) - 帮助我们构建优雅复古的终端界面。

### 欢迎你的加入

我们张开双臂欢迎你为这个项目贡献代码！如果你有任何绝妙的想法或改进建议，请不要犹豫，随时通过 Issue 或 Pull Request 与我们分享。

## 许可证

本项目基于 [GNU Affero General Public License v3.0](https://github.com/guohuiyuan/go-music-dl/blob/main/LICENSE) 许可。

## ⚠️ 温馨提示

本项目仅供个人学习和技术交流使用。请在遵守相关法律法规和音乐平台用户协议的前提下，合理使用本工具。通过本工具下载的任何音乐资源，请于 24 小时内删除。享受音乐，更要支持正版。